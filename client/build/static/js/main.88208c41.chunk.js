(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{40:function(e,a,t){e.exports=t(70)},45:function(e,a,t){},46:function(e,a,t){},70:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),c=t(19),r=t.n(c),s=(t(45),t(14)),o=t(2),i=t(7),m=t(6),u=(t(46),t(1)),d=t(5),E=t(3),f=t(10),p=t.n(f),b=function(e){e?p.a.defaults.headers.common["auth-token"]=e:delete p.a.defaults.headers.common["auth-token"]},v=function(){return function(e){localStorage.token&&b(localStorage.token),p.a.get("".concat("","/login")).then((function(a){return e({type:"USER_LOADED",payload:a.data})})).catch((function(){return e({type:"AUTH_ERROR"})}))}},h=function(){return function(e){p.a.get("".concat("","/person")).then((function(a){e({type:"GET_USERS",payload:a.data})})).catch((function(a){e({type:"ERROR_LOADING_USERS",payload:a.response.data})}))}},N=function(){var e=Object(u.c)(),a=Object(u.d)((function(e){return e.auth})),t=Object(m.g)();return Object(n.useEffect)((function(){a.token&&(e(v()),e(h()))}),[]),l.a.createElement(E.b.div,{className:"home",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{ease:"easeInOut"}},l.a.createElement(E.b.div,{initial:{x:"100vw"},animate:{x:0},transition:{type:"tween",ease:"easeInOut"},exit:{x:"-100vw"},className:"triangle"}),l.a.createElement("div",{className:"wrapper"},l.a.createElement(E.b.div,{initial:{y:"100vh"},animate:{y:0},transition:{delay:.5,ease:"easeInOut"},exit:{y:"-100vh"},className:"intro"},l.a.createElement("h1",null,"Secure"),l.a.createElement("h1",null,"Your"),l.a.createElement("h1",null,"Contact"),l.a.createElement("p",null,"Keep your contacts book safe for free")),l.a.createElement(E.b.div,{className:"home-btns",initial:{y:"-100vh"},animate:{y:0,ease:"easeInOut"},exit:{y:"100vh"},transition:{delay:.7}},a.user&&l.a.createElement("p",{className:"go-to-dashboard",onClick:function(){return t.push("/users")}},"Hey ",a.user.firstname,", Want To Go Back To Your Dashboard ?"),!a.user&&l.a.createElement("div",{className:"home-btns"},l.a.createElement(d.b,{to:"/login"},l.a.createElement("button",{className:"edit-btn home-btn mb-2"},"Login")),l.a.createElement(d.b,{to:"/perso-register"},l.a.createElement("button",{className:"edit-btn home-btn"},"Register"))))))},g=function(){var e=Object(u.d)((function(e){return e.alert}));return e.length>0&&e.map((function(e,a){return l.a.createElement("div",{className:"alert-login",key:a},l.a.createElement("p",null,e.msg))}))},x=function(e){return{type:"SHOW_ALERT",payload:e}},y=function(e){return{type:"REMOVE_ALERT",payload:e}},O=function(e){var a=Object(n.useState)({email:"",password:""}),t=Object(i.a)(a,2),c=t[0],r=t[1],m=function(e){r(Object(o.a)(Object(o.a)({},c),{},Object(s.a)({},e.target.name,e.target.value)))},d=Object(u.c)(),f=Object(u.d)((function(e){return e.auth}));Object(n.useEffect)((function(){if(f.isAuthenticated)return e.history.push("/users");f.errors&&"object"===typeof f.errors&&f.errors.map((function(e){return d(x(e)),setTimeout((function(){return d(y(e))}),5e3)}))}),[f.isAuthenticated,f.errors]);return l.a.createElement(E.b.div,{initial:{x:"100vw"},animate:{x:0},transition:{type:"spring",delay:.4},exit:{x:"-100vw"},className:"form"},l.a.createElement("div",{className:"register-form"},l.a.createElement(g,null),l.a.createElement("div",{className:"form-field"},l.a.createElement("label",null,"Email Address:"),l.a.createElement("input",{type:"text",name:"email",onChange:m,value:c.email})),l.a.createElement("div",{className:"form-field"},l.a.createElement("label",null,"Password:"),l.a.createElement("input",{type:"password",name:"password",onChange:m,value:c.password})),l.a.createElement("div",{className:"login-btns"},l.a.createElement("button",{onClick:function(){return c.email&&c.password?d((e=c,function(a){p.a.post("".concat("","/login"),e).then((function(e){a({type:"LOGIN_SUCCESS",payload:e.data}),a(v())})).catch((function(e){return a({type:"LOGIN_FAIL",payload:e.response.data.msg})}))})):(d(x({msg:"All fields are required!"})),setTimeout((function(){return d(y({msg:"All fields are required!"}))}),5e3));var e},className:"edit-btn"},"Login ",l.a.createElement("i",{className:"fas fa-sign-in-alt"})))))},w=function(e){var a=e.handleChange,t=e.user,n=e.editContact,c=e.setShowModal;return l.a.createElement("div",{className:"backdrop"},l.a.createElement("div",{className:"edit-modal-body"},l.a.createElement("h1",{className:"text-center"},"Edit User"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6 d-flex flex-column"},l.a.createElement("label",null,"Firstname:"),l.a.createElement("input",{type:"text",value:t.firstname,name:"firstname",onChange:a})),l.a.createElement("div",{className:"col-6 d-flex flex-column"},l.a.createElement("label",null,"Lastname:"),l.a.createElement("input",{type:"text",value:t.lastname,name:"lastname",onChange:a}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6 d-flex flex-column"},l.a.createElement("label",null,"Address:"),l.a.createElement("input",{type:"text",value:t.address,name:"address",onChange:a})),l.a.createElement("div",{className:"col-6 d-flex flex-column"},l.a.createElement("label",null,"Sexe:"),l.a.createElement("select",{name:"sexe",onChange:a,defaultValue:t.sexe},l.a.createElement("option",{value:""},"choose"),l.a.createElement("option",{value:"men"},"Men"),l.a.createElement("option",{value:"women"},"Women")))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6 d-flex flex-column"},l.a.createElement("label",null,"Visibility:"),l.a.createElement("select",{name:"isPublic",onChange:a,defaultValue:t.isPublic},l.a.createElement("option",{value:""},"choose"),l.a.createElement("option",{value:"true"},"Public"),l.a.createElement("option",{value:"false"},"Private"))),l.a.createElement("div",{className:"col-6 d-flex flex-column"},l.a.createElement("label",null,"Relation:"),l.a.createElement("select",{name:"relation",onChange:a,defaultValue:t.relation},l.a.createElement("option",{value:""},"choose"),l.a.createElement("option",{value:"colleague"},"Colleague"),l.a.createElement("option",{value:"family"},"Family"),l.a.createElement("option",{value:"best friend"},"Best Friend"),l.a.createElement("option",{value:"friend"},"Friend")))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6 d-flex flex-column"},l.a.createElement("label",null,"Email Address:"),l.a.createElement("input",{type:"text",value:t.email,name:"email",onChange:a})),l.a.createElement("div",{className:"col-6 d-flex flex-column"},l.a.createElement("label",null,"Phone Number:"),l.a.createElement("input",{type:"text",value:t.phone,name:"phone",onChange:a}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6 d-flex flex-column"},l.a.createElement("label",null,"Occupation:"),l.a.createElement("input",{type:"text",value:t.occupation,name:"occupation",onChange:a}))),l.a.createElement("div",{className:"d-flex justify-content-end mt-2"},l.a.createElement("button",{className:"edit-btn mr-2",onClick:c},"Cancel"),l.a.createElement("button",{className:"edit-btn",onClick:n},"Confirm"))))},j=function(e){var a=e.setShowModal,t=e.userId,n=Object(u.c)();return l.a.createElement("div",null,l.a.createElement("div",{className:"delete-modal-background"},l.a.createElement("div",{className:"d-flex flex-column align-items-center justify-content-center"},l.a.createElement("i",{className:"fas text-center fa-exclamation-triangle fa-3x"}),l.a.createElement("h1",{className:"text-center ml-2"},"Delete Contact")),l.a.createElement("p",{className:"text-center"},"Are you sure you want to delete this contact ?"),l.a.createElement("div",{className:"delete-btns"},l.a.createElement("button",{className:"delete-btn delete mr-2",onClick:function(){var e;n((e=t,function(a){p.a.delete("".concat("","/person/").concat(e)).then((function(){a({type:"DELETE_USER",payload:e})})).catch((function(e){a({type:"ERROR_LOADING_USERS",payload:e.response.data})}))})),a()}},"Delete"),l.a.createElement("button",{className:"delete-btn",onClick:a},"Cancel"))))},S=function(e){var a=e.showModal,t=e.setShowModal,c=e.singleUser,r=e.editMode,m=e.userToDelete,d=Object(n.useState)({}),E=Object(i.a)(d,2),f=E[0],b=E[1],v=Object(u.c)();Object(n.useEffect)((function(){b(c)}),[]);return l.a.createElement("div",null,a&&(r?l.a.createElement(w,{user:f,handleChange:function(e){b(Object(o.a)(Object(o.a)({},f),{},Object(s.a)({},e.target.name,e.target.value)))},editContact:function(){v(function(e){return function(a){p.a.put("".concat("","/person/").concat(e._id),e).then((function(){a({type:"UPDATE_USER",payload:e}),a(h)})).catch((function(e){a({type:"ERROR_LOADING_USERS",payload:e.response.data})}))}}(Object(o.a)(Object(o.a)({},f),{},{updated_at:new Date(Date.now()).toISOString()}))),t()},setShowModal:t}):l.a.createElement(j,{setShowModal:t,userId:m._id})))},C=function(e){var a=e.info,t=Object(n.useState)(!1),c=Object(i.a)(t,2),r=c[0],s=c[1],o=Object(u.d)((function(e){return e.auth})),m=function(){return s(!r)};return l.a.createElement(E.b.div,{whileHover:{scale:1.1},className:"col-12 col-md-3 justify-content-md-center align-items-center user-card p-2 py-4"},l.a.createElement("img",{src:a.avatar,className:"avatar",alt:a.firstname}),l.a.createElement("div",{className:"name mt-2"},l.a.createElement("p",{className:"mr-2"},a.firstname.toUpperCase()),l.a.createElement("p",null,a.lastname.toUpperCase())),l.a.createElement("p",{className:"occupation"},a.occupation),l.a.createElement("div",{className:"d-flex justify-content-around w-100 mb-2"},l.a.createElement("div",{className:"short-info"},l.a.createElement("i",{className:"fas fa-globe-europe "}),l.a.createElement("p",{className:"card-info"},a.isPublic?"Public":"Private"),l.a.createElement("p",{className:"occupation"},"Visibility")),l.a.createElement("div",{className:"short-info"},l.a.createElement("i",{className:"fas fa-link"}),l.a.createElement("p",{className:"card-info"},a.relation),l.a.createElement("p",{className:"occupation"},"Relation")),a.user===o.user._id&&l.a.createElement("div",{className:"short-info",onClick:m},l.a.createElement("i",{className:"far fa-trash-alt"}),l.a.createElement("p",{className:"card-info"},"Delete"))),l.a.createElement(d.b,{to:"/user/".concat(a._id)},l.a.createElement("button",{className:"btn-card"},"See More")),l.a.createElement(S,{showModal:r,setShowModal:m,editMode:!1,userToDelete:a}),a.created_at!==a.updated_at&&l.a.createElement("p",{className:"updatedUser"},"User Updated"))},_=function(){var e=Object(u.c)(),a=Object(u.d)((function(e){return e.auth})),t=Object(u.d)((function(e){return e.users.users}));return Object(n.useEffect)((function(){e(v()),e(h())}),[a.isAuthenticated]),l.a.createElement(E.b.div,{initial:{x:"100vw"},animate:{x:0},transition:{type:"spring",delay:.4},exit:{x:"-100vw"},className:"users container"},a.user&&l.a.createElement("div",{className:"welcome-header"},l.a.createElement("img",{className:"avatar ml-4",src:a.user.avatar,alt:a.user.firstname}),l.a.createElement("h1",{className:"text-center welcome my-4"},"Hello ",l.a.createElement("span",null,a.user.firstname),", your contact are here safe!")),l.a.createElement("div",{className:"user-list row justify-content-between"},t&&t.map((function(e){return l.a.createElement(C,{info:e,key:e._id})}))))},R=function(){var e=Object(n.useState)({firstname:"",lastname:"",address:"",sexe:"",isPublic:"",relation:"",email:"",phone:"",occupation:""}),a=Object(i.a)(e,2),t=a[0],c=a[1],r=Object(n.useState)(!1),d=Object(i.a)(r,2),f=d[0],b=d[1],v=Object(u.c)(),h=Object(m.g)(),N=function(e){c(Object(o.a)(Object(o.a)({},t),{},Object(s.a)({},e.target.name,e.target.value)))};return l.a.createElement(E.b.div,{className:"add-user",initial:{x:"100vw"},animate:{x:0},exit:{x:"-100vw"},transition:{type:"spring",delay:.4}},l.a.createElement("h1",{className:"text-center"},"Add User"),f&&l.a.createElement("div",{className:"add-msg"},"New contact added to your contact list"),l.a.createElement("div",{className:"row mt-2"},l.a.createElement("div",{className:"col-md-6 col-sm-12 d-flex flex-column"},l.a.createElement("label",null,"Firstname:"),l.a.createElement("input",{type:"text",value:t.firstname,name:"firstname",onChange:N})),l.a.createElement("div",{className:"col-md-6 col-sm-12 d-flex flex-column"},l.a.createElement("label",null,"Lastname:"),l.a.createElement("input",{type:"text",value:t.lastname,name:"lastname",onChange:N}))),l.a.createElement("div",{className:"row mt-2"},l.a.createElement("div",{className:"col-md-6 col-sm-12 d-flex flex-column"},l.a.createElement("label",null,"Address:"),l.a.createElement("input",{type:"text",value:t.address,name:"address",onChange:N})),l.a.createElement("div",{className:"col-md-6 col-sm-12 d-flex flex-column"},l.a.createElement("label",null,"Sexe:"),l.a.createElement("select",{name:"sexe",onChange:N,defaultValue:t.sexe},l.a.createElement("option",{value:""},"choose"),l.a.createElement("option",{value:"men"},"Men"),l.a.createElement("option",{value:"women"},"Women")))),l.a.createElement("div",{className:"row mt-2"},l.a.createElement("div",{className:"col-md-6 col-sm-12 d-flex flex-column"},l.a.createElement("label",null,"Visibility:"),l.a.createElement("select",{name:"isPublic",onChange:N,defaultValue:t.isPublic},l.a.createElement("option",{value:""},"choose"),l.a.createElement("option",{value:"true"},"Public"),l.a.createElement("option",{value:"false"},"Private"))),l.a.createElement("div",{className:"col-md-6 col-sm-12 d-flex flex-column"},l.a.createElement("label",null,"Relation:"),l.a.createElement("select",{name:"relation",onChange:N,defaultValue:t.relation},l.a.createElement("option",{value:""},"choose"),l.a.createElement("option",{value:"colleague"},"Colleague"),l.a.createElement("option",{value:"family"},"Family"),l.a.createElement("option",{value:"best friend"},"Best Friend"),l.a.createElement("option",{value:"friend"},"Friend")))),l.a.createElement("div",{className:"row mt-2"},l.a.createElement("div",{className:"col-md-6 col-sm-12 d-flex flex-column"},l.a.createElement("label",null,"Email Address:"),l.a.createElement("input",{type:"text",value:t.email,name:"email",onChange:N})),l.a.createElement("div",{className:"col-md-6 col-sm-12 d-flex flex-column"},l.a.createElement("label",null,"Phone Number:"),l.a.createElement("input",{type:"text",value:t.phone,name:"phone",onChange:N}))),l.a.createElement("div",{className:"row mt-2"},l.a.createElement("div",{className:"col-md-6 col-sm-12 d-flex flex-column"},l.a.createElement("label",null,"Occupation:"),l.a.createElement("input",{type:"text",value:t.occupation,name:"occupation",onChange:N}))),l.a.createElement("div",{className:"d-flex justify-content-end"},l.a.createElement("button",{className:"edit-btn",onClick:h.goBack},"Cancel"),l.a.createElement("button",{className:"edit-btn",onClick:function(){v(function(e){return function(a){p.a.post("".concat("","/person"),e).then((function(e){a({type:"ADD_USER",payload:e.data})})).catch((function(e){a({type:"ERROR_LOADING_USERS",payload:e})}))}}(t)),b(!0),setTimeout((function(){b(!1)}),4e3)}},"Add")))},A=function(){var e=Object(u.d)((function(e){return e.users.publicUsers})),a=Object(u.c)();return Object(n.useEffect)((function(){a((function(e){p.a.get("".concat("","/person/public")).then((function(a){e({type:"GET_ALL_USERS",payload:a.data})})).catch((function(a){e({type:"ERROR_LOADING_USERS",payload:a.response.data})}))}))}),[]),l.a.createElement(E.b.div,{initial:{x:"100vw"},animate:{x:0},transition:{type:"spring",delay:.4},exit:{x:"-100vw"},className:"users container"},l.a.createElement("div",{className:"user-list row justify-content-between"},e&&e.map((function(e){return l.a.createElement(C,{info:e,key:e._id})}))))},k=function(){var e=Object(u.c)(),a=Object(m.g)();return l.a.createElement(E.b.ul,{className:"navBar",initial:{y:-100},animate:{y:0},transition:{type:"spring",delay:.6},exit:{y:-100}},l.a.createElement(d.b,{to:"/"},"Home"),l.a.createElement(d.b,{to:"/users"},"Users"),l.a.createElement(d.b,{to:"/add"},"Add User"),l.a.createElement(d.b,{to:"/public"},"Public Contact"),l.a.createElement(d.b,{to:"/",onClick:function(){e((function(e){e({type:"LOGOUT"})})),a.push("/")},style:{color:"red"}},"Logout"))},U={hidden:{x:"100vw"},visible:{x:0,transition:{type:"spring",stiffness:110}},hover:{scale:1.2,textShadow:"0px 3px 8px rgba(0,0,0, .2)"}},L=function(e){var a=e.handleChange,t=e.information,n=t.firstname,c=t.lastname,r=t.age,s=t.sexe;return l.a.createElement(E.b.div,{className:"form",initial:{x:"100vw"},animate:{x:0},transition:{type:"spring",delay:.4},exit:{x:"-100vw"}},l.a.createElement("div",{className:"register-form"},l.a.createElement("div",{className:"form-field"},l.a.createElement("label",null,"Firstname:"),l.a.createElement("input",{type:"text",name:"firstname",onChange:function(e){return a(e)},value:n})),l.a.createElement("div",{className:"form-field"},l.a.createElement("label",null,"Lastname:"),l.a.createElement("input",{type:"text",name:"lastname",onChange:function(e){return a(e)},value:c})),l.a.createElement("div",{className:"form-field"},l.a.createElement("label",null,"Age:"),l.a.createElement("input",{type:"text",name:"age",onChange:function(e){return a(e)},value:r})),l.a.createElement("div",{className:"form-field"},l.a.createElement("label",null,"Sexe:"),l.a.createElement("select",{name:"sexe",onChange:function(e){return a(e)},value:s},l.a.createElement("option",{value:""},"sexe"),l.a.createElement("option",{value:"men"},"Men"),l.a.createElement("option",{value:"women"},"Women"))),n&&c&&r&&s&&l.a.createElement(d.b,{to:"/register",className:"next-btn"},l.a.createElement(E.b.i,{variants:U,initial:"hidden",whileHover:"hover",animate:"visible",className:"fas fa-arrow-right fa-2x"}))))},T=Object(m.i)((function(e){var a=e.handleChange,t=e.information,n=t.address,c=t.phone,r=t.email,s=t.password,o=e.history;return l.a.createElement(E.b.div,{className:"form",initial:{x:"100vw"},animate:{x:0},transition:{type:"spring",delay:.4},exit:{x:"-100vw"}},l.a.createElement("div",{className:"register-form"},l.a.createElement("div",{className:"form-field"},l.a.createElement("label",null,"Address:"),l.a.createElement("input",{type:"text",name:"address",onChange:function(e){return a(e)},value:n})),l.a.createElement("div",{className:"form-field"},l.a.createElement("label",null,"Phone Number:"),l.a.createElement("input",{type:"text",name:"phone",onChange:function(e){return a(e)},value:c})),l.a.createElement("div",{className:"form-field"},l.a.createElement("label",null,"Email Address:"),l.a.createElement("input",{type:"text",name:"email",onChange:function(e){return a(e)},value:r})),l.a.createElement("div",{className:"form-field"},l.a.createElement("label",null,"Password:"),l.a.createElement("input",{type:"password",name:"password",onChange:function(e){return a(e)},value:s})),l.a.createElement("div",{className:"register-btns"},l.a.createElement(E.b.i,{initial:{x:"100vw"},animate:{x:0},transition:{type:"spring",delay:.4},exit:{x:"-100vw"},className:"fas fa-arrow-left next-btn fa-2x",onClick:o.goBack}),n&&c&&r&&s&&l.a.createElement(d.b,{to:"/confirm",className:"next-btn"},l.a.createElement(E.b.i,{initial:{x:"100vw"},animate:{x:0},transition:{type:"spring",stiffness:110},className:"fas fa-arrow-right fa-2x"})))))})),D=function(e){var a=e.information,t=a.firstname,c=a.lastname,r=a.age,s=a.sexe,o=a.address,d=a.phone,f=a.email,b=a.password,h=Object(n.useState)(!1),N=Object(i.a)(h,2),O=N[0],w=N[1],j=Object(u.c)(),S=Object(u.d)((function(e){return e.auth})),C=Object(m.g)();return Object(n.useEffect)((function(){if(S.isAuthenticated)return C.push("/users");S.errors&&"object"===typeof S.errors&&S.errors.map((function(e){return j(x(e)),setTimeout((function(){return j(y(e))}),5e3)}))}),[S.isAuthenticated,S.errors]),l.a.createElement(E.b.div,{initial:{x:"100vw"},animate:{x:0},transition:{type:"spring",delay:.4},exit:{x:"-100vw"},className:"form-confirm"},l.a.createElement(g,null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("span",null,"Firstname:"),l.a.createElement("p",null,t)),l.a.createElement("div",{className:"col"},l.a.createElement("span",null,"Lastname:"),l.a.createElement("p",null,c))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("span",null,"Age:"),l.a.createElement("p",null,r)),l.a.createElement("div",{className:"col"},l.a.createElement("span",null,"Sexe:"),l.a.createElement("p",null,s))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("span",null,"Address:"),l.a.createElement("p",null,o)),l.a.createElement("div",{className:"col"},l.a.createElement("span",null,"Phone Number:"),l.a.createElement("p",null,d))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("span",null,"Email Address:"),l.a.createElement("p",null,f)),l.a.createElement("div",{className:"col"},l.a.createElement("div",{className:"d-flex align-items-center"},l.a.createElement("span",null,"Password:"),O?l.a.createElement("i",{className:"far fa-eye",onClick:function(){return w(!O)}}):l.a.createElement("i",{className:"far fa-eye-slash",onClick:function(){return w(!O)}})),O&&l.a.createElement("p",{className:"m-0"},b))),l.a.createElement("div",{className:"confirm-btns"},l.a.createElement("i",{className:"fas fa-arrow-left next-btn fa-2x",onClick:C.goBack}),l.a.createElement("i",{className:"fas fa-check fa-2x",onClick:function(){return j((e={firstname:t,lastname:c,age:r,sexe:s,address:o,phone:d,email:f,password:b},function(a){p.a.post("".concat("","/register"),e).then((function(e){a({type:"REGISTER_SUCCESS",payload:e.data}),a(v())}))}));var e}})))},I=t(39),P=Object(u.b)((function(e){return{auth:e.auth}}))((function(e){var a=e.component,t=e.auth,n=Object(I.a)(e,["component","auth"]);return l.a.createElement(m.b,Object.assign({},n,{render:function(e){return t.isAuthenticated?l.a.createElement(a,e):l.a.createElement(m.a,{to:"/"})}}))})),G=Object(m.i)((function(e){var a=e.match,t=e.history,c=Object(n.useState)(null),r=Object(i.a)(c,2),s=r[0],o=r[1],m=Object(n.useState)(!1),d=Object(i.a)(m,2),f=d[0],p=d[1],b=Object(u.d)((function(e){return e.users.users})),v=Object(u.d)((function(e){return e.users.publicUsers})),h=Object(u.d)((function(e){return e.auth}));Object(n.useEffect)((function(){console.log(typeof b[0]._id),console.log(typeof a.params.id);var e=b.find((function(e){return e._id===a.params.id}));if(e)o(e);else{var t=v.find((function(e){return e._id===a.params.id}));o(t)}}),[b]);return s&&l.a.createElement(E.b.div,{initial:{y:"100vh"},animate:{y:0},exit:{x:"-100vw"},transition:{type:"spring",delay:.4},className:"container profil"},l.a.createElement("div",{className:"row profil-pic-name flex-column align-items-center justify-content-center my-4"},l.a.createElement("div",{className:"col profil-header"},l.a.createElement("img",{src:s.avatar,className:"avatar profil-avatar",alt:s.firstname}),l.a.createElement("div",{className:"d-flex align-items-center mt-2"},l.a.createElement("p",{className:"mr-2 font-weight-bold"},s.firstname.toUpperCase()),l.a.createElement("p",{className:"font-weight-bold"},s.lastname.toUpperCase())))),l.a.createElement("div",{className:"personal-info"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12 col-sm-6 d-flex",style:{borderRight:"1px solid grey"}},l.a.createElement("span",{className:"font-weight-bold"},"Phone Number:"),l.a.createElement("p",{className:"font-weight-light ml-2"},s.phone)),l.a.createElement("div",{className:"col-12 col-sm-6 d-flex"},l.a.createElement("span",{className:"font-weight-bold"},"Address: "),l.a.createElement("p",{className:"font-weight-light ml-2"},s.address))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12 col-sm-6 d-flex",style:{borderRight:"1px solid grey"}},l.a.createElement("span",{className:"font-weight-bold"},"Email Address:"),l.a.createElement("p",{className:"font-weight-light ml-2"},s.email)),l.a.createElement("div",{className:"col-12 col-sm-6 d-flex"},l.a.createElement("span",{className:"font-weight-bold"},"Occupation: "),l.a.createElement("p",{className:"font-weight-light ml-2"},s.occupation))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12 col-sm-6 d-flex",style:{borderRight:"1px solid grey"}},l.a.createElement("span",{className:"font-weight-bold"},"Sexe: "),l.a.createElement("p",{className:"font-weight-light ml-2"},s.sexe)),l.a.createElement("div",{className:"col-12 col-sm-6 d-flex"},l.a.createElement("span",{className:"font-weight-bold"},"Relation:"),l.a.createElement("p",{className:"font-weight-light ml-2"},s.relation))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12 col-sm-6 d-flex",style:{borderRight:"1px solid grey"}},l.a.createElement("span",{className:"font-weight-bold"},"Visibility:"),l.a.createElement("p",{className:"font-weight-light ml-2"},s.isPublic?"Public":"Private")),l.a.createElement("div",{className:"col-12 col-sm-6 d-flex"},l.a.createElement("span",{className:"font-weight-bold"},"Last Edit: "),l.a.createElement("p",{className:"font-weight-light ml-2"},s.updated_at))),l.a.createElement("div",{className:"d-flex justify-content-between"},l.a.createElement("button",{className:"edit-btn",onClick:t.goBack},"Go Back ",l.a.createElement("i",{className:"fas fa-arrow-left"})," "),s.user===h.user._id&&l.a.createElement("button",{className:"edit-btn mr-2",onClick:function(){p(!f)}},"Edit ",l.a.createElement("i",{className:"far fa-edit"})," ")),l.a.createElement(S,{showModal:f,setShowModal:function(){return p(!f)},singleUser:s,editMode:!0})),s.user!==h.user._id&&l.a.createElement("p",{className:"notOwner mt-2 font-weight-light"},"You are not the owner of this contact"))}));localStorage.token&&b(localStorage.token);var M=function(){var e=Object(n.useState)({firstname:"",lastname:"",age:"",sexe:"",address:"",email:"",password:"",phone:""}),a=Object(i.a)(e,2),t=a[0],c=a[1],r=Object(m.h)(),d=Object(u.d)((function(e){return e.auth})),f=function(e){c(Object(o.a)(Object(o.a)({},t),{},Object(s.a)({},e.target.name,e.target.value)))};return l.a.createElement(l.a.Fragment,null,"/"!==r.pathname&&d.user&&l.a.createElement(k,null),l.a.createElement(E.a,{exitBeforeEnter:!0},l.a.createElement(m.d,{location:r,key:r.key},l.a.createElement(m.b,{exact:!0,path:"/",component:N}),l.a.createElement(m.b,{path:"/login",component:O}),l.a.createElement(m.b,{path:"/perso-register"},l.a.createElement(L,{handleChange:f,information:t})),l.a.createElement(m.b,{path:"/register"},l.a.createElement(T,{handleChange:f,information:t})),l.a.createElement(m.b,{path:"/confirm"},l.a.createElement(D,{information:t})),l.a.createElement(m.b,{path:"/users"},l.a.createElement(P,{component:_})),l.a.createElement(m.b,{path:"/user/:id"},l.a.createElement(G,null)),l.a.createElement(m.b,{path:"/add"},l.a.createElement(R,null)),l.a.createElement(m.b,{path:"/public"},l.a.createElement(A,null)))))},F=(t(69),t(15)),V={token:localStorage.getItem("token"),isAuthenticated:null,user:null,errors:null},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"USER_LOADED":return Object(o.a)(Object(o.a)({},e),{},{isAuthenticated:!0,user:a.payload});case"LOGIN_SUCCESS":case"REGISTER_SUCCESS":return localStorage.setItem("token",a.payload.token),Object(o.a)(Object(o.a)({},e),{},{token:a.payload.token,isAuthenticated:!0});case"LOGOUT":case"LOGIN_FAIL":case"AUTH_ERROR":case"REGISTER_FAIL":return localStorage.removeItem("token"),Object(o.a)(Object(o.a)({},e),{},{token:null,user:null,isAuthenticated:!1,errors:a.payload});default:return e}},H=t(22),W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SHOW_ALERT":return[].concat(Object(H.a)(e),[a.payload]);case"REMOVE_ALERT":return e.filter((function(e){return e.msg===a.payload}));default:return e}},X={users:null,publicUsers:null,errors:null},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_USERS":return Object(o.a)(Object(o.a)({},e),{},{users:a.payload,errors:null});case"ERROR_LOADING_USERS":return Object(o.a)(Object(o.a)({},e),{},{errors:a.payload});case"LOGOUT":return{users:null,errors:null};case"UPDATE_USER":return Object(o.a)(Object(o.a)({},e),{},{users:e.users.map((function(e){return e._id===a.payload._id?a.payload:e}))});case"DELETE_USER":return Object(o.a)(Object(o.a)({},e),{},{users:e.users.filter((function(e){return e._id!==a.payload}))});case"ADD_USER":return Object(o.a)(Object(o.a)({},e),{},{users:[].concat(Object(H.a)(e.users),[a.payload])});case"GET_ALL_USERS":return Object(o.a)(Object(o.a)({},e),{},{publicUsers:a.payload});default:return e}},q=Object(F.c)({auth:B,alert:W,users:Y}),J=t(38),K=Object(F.e)(q,Object(F.d)(Object(F.a)(J.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));r.a.render(l.a.createElement(d.a,null,l.a.createElement(u.a,{store:K},l.a.createElement(l.a.StrictMode,null,l.a.createElement(M,null)))),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.88208c41.chunk.js.map